<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script src="../../libs/jquery-1.9.1/jquery-1.9.1.js"></script>
<script src="../../build/glam.min.js" ></script>
<title>glam - mesh tests</title>

<style>
	body{
		margin: 0px;
		background-color: #000;
	}


	#mesh1 {
		image:url(../../images/flowers.jpg);
		diffuse-color:lightgray;
		shader:phong;
	}

	#mesh2 {
		image:url(../../images/parisi1.jpg);
		shader:phong;
	}
		
	#mesh3 {
		shader:phong;
	}

	#mesh4 {
		shader:phong;
	}
	
</style>
<script>
$(document).ready(function(){

	glam.ready();

	var meshes = document.getElementsByTagName('mesh');
	for (var i = 0; i < meshes.length; i++) {
		var mesh = meshes[i];
		mesh.addEventListener('mouseover', function(event) {
			document.body.style.cursor = 'pointer';
		});
		mesh.addEventListener('mouseout', function(event) {
			document.body.style.cursor = 'auto';
		});
		mesh.addEventListener('click', function(event) {
			event.target.geometry.vertices[1].set(.5, .5, -1).normalize();
			event.target.geometry.vertices[3].set(-.5, .5, -1).normalize();
			event.target.geometry.verticesNeedUpdate = true;
		});
	}
	
});

</script>
</head>
<body>
<!-- 
glam - Simple scene with cube
 -->
<div id="container" style="width:600px; height:600px;">
<glam>
  <scene>
    <group x='-1' y='1'>
    	<!--  with normals per face -->
		<mesh id="mesh1">
			<vertices>-.5 -.5 0 .5 -.5 0 .5 .5 0 -.5 .5 0</vertices>
			<normals>0 1 1 0 0 1</normals>
			<uvs>0 0 1 0 1 1 0 0 1 1 0 1</uvs>
			<faces>0 1 2 0 2 3</faces>
		</mesh>
    </group>
    <group x='1' y='1'>
    	<!--  with normals per vertex -->
		<mesh id="mesh2" vertexNormals>
			<vertices id="mesh2Verts">-.5 -.5 0 .5 -.5 0 .5 .5 0 -.5 .5 0</vertices>
			<normals>0 1 1 0 1 1 0 0 1 0 0 1</normals>
			<uvs>0 0 1 0 1 1 0 0 1 1 0 1</uvs>
			<faces>0 1 2 0 2 3</faces>
		</mesh>
    </group>
    <group x='-1' y='-1'>
    	<!--  with colors per face -->
		<mesh id="mesh3">
			<vertices>-.5 -.5 0 .5 -.5 0 .5 .5 0 -.5 .5 0</vertices>
			<normals>0 0 1 0 0 1 0 0 1 0 0 1</normals>
			<colors>1 0 0 0 1 0</colors>
			<uvs>0 0 1 0 1 1 0 0 1 1 0 1</uvs>
			<faces>0 1 2 0 2 3</faces>
		</mesh>
    </group>
    <group x='1' y='-1'>
    	<!--  with colors per vertex -->
		<mesh id="mesh4" vertexColors>
			<vertices>-.5 -.5 0 .5 -.5 0 .5 .5 0 -.5 .5 0</vertices>
			<normals>0 0 1 0 0 1 0 0 1 0 0 1</normals>
			<colors>1 0 0 0 1 0 0 0 1 1 1 0</colors>
			<uvs>0 0 1 0 1 1 0 0 1 1 0 1</uvs>
			<faces>0 1 2 0 2 3</faces>
		</mesh>
    </group>
  </scene>
</glam>
</div>

</body>
</html>
